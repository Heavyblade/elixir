<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Elixir Overview</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/simple.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
    <style type="text/css" media="all">
       .logo {border: none !important; padding: 20px !important;}
       #rails_logo   { width: 100px; }
       #erlang_logo  { width: 200px; }
       #elixir_logo  { width: 400px; box-shadow: none;}
       #elixir_small { width: 100px; box-shadow: none; margin: 0px; border: none; }
       #processes    { width: 200px; }
       .image        { width: 300px; }
    </style>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <img id="elixir_logo" src="http://elixir-lang.org/images/logo/logo.png" alt="elixir" class="logo"/>
          <p>An Elixir Overview</p>
        </section>

        <section>
           <h3><img id="elixir_small" src="./images/elixir_simple.png" alt="elixir"/>What is Elixir ?</h3>
           <ul>
             <li><strong>Functional</strong></li>
             <li>Productive</li>
             <li>Extensible</li>
           </ul>
        </section>
        <section>
            <h2>What makes a language functional?</h2>
            <ul>
                <li>First class functions</li>
                <li>High order functions</li>
                <li>Immutability</li>
                <li>Recursion (tail optimization)</li>
                <li>Lazy Evaluation</li>
            </ul>
        </section>
        <section>
            <h2>Learning Curve</h2>
            <li>No as easy as Ruby not as scary as Haskell</li>

        </section>
        <section>
            <h3>Origin</h3>
            <img id="rails_logo" src="./images/Ruby_on_Rails.png" alt="" class="logo"/>
            <p>Creator Jose Val√≠m, Rails core team member</p>
            <p><strong>Mission:</strong>=> Address Rails concurrency issues</p>
        </section>
        <section>
          <img src="./images/erlang_logo.png" alt="" id="erlang_logo" class="logo"/>
          <br>
          <ul>
            <li>Functional</li>
            <li>Concurrent (Actor Model)</li>
            <li>Fault tolerant</li>
            <li>Hight availability</li>
            <li>Distributed</li>
          </ul>
        </section>

        <section>
          <h1>Show me the code !!</h1>
          <h2>Languaje features</h2>
        </section>

        <section>
                    <section>
                      <h3>Pattern Maching</h3>
                      <p>the end of "=" as you knew it</p>
                      <pre>
                        <code class="elixir" data-trim contenteditable style="font-size: 18px;">
                               x = "hola"
                               {x, y} = {2, 3}
                               # x -> 2
                               # y -> 3
                               [first | rest] = [1,2,3,4]
                               # first -> 1
                               # rest -> [2,3,4]
                               [{x,y} | rest] = [{1,0}, {1,1}, {2,2},{3,5}]
                               # x -> 1
                               # y -> 0
                               # rest -> [{1,1}, {2,2},{3,5}]
                        </code>
                      </pre>
                    </section>
                    <section>
                      <h2>where is used</h2>
                      <p>function definition</p>
                      <pre>
                        <code class="elixir" data-trim contenteditable style="font-size: 18px;">

                            def hola_mundo(mensaje) do
                                IO.puts mensaje
                            end

                            def hola_mundo(mensaje, param) do
                                IO.puts "#{mensaje} #{param}"
                            end

                            defmodule MyMath do
                              def sum(list), do: _sum(list, 0)

                              defp _sum([], total), do: total
                              defp _sum([ head | tail ], total) do
                                   _sum(tail, total + head)
                              end
                            end

                        </code>
                      </pre>
                    </section>

                    <section>
                      <p>with statement</p>

                      <pre>
                        <code class="elixir" data-trim contenteditable style="font-size: 18px;">
                            with {:ok, image} <- ImageHandler.load_image(image_path, @ratio),
                                 {:ok, code}  <- CodeHandler.load_code(code_path)
                            do
                                  get_needed_code(code, image)
                                  |> construct_text_elements(image)
                                  |> ImageHandler.build_svg(image, @fontSize)
                                  |> ImageHandler.save_svg("out_test.svg")
                                  |> ImageHandler.convert_to_png
                                  |> Logger.debug
                            else
                                err -> err
                            end
                        </code>
                      </pre>
                    </section>

                    <section>
                      <p>case statement</p>
                      <pre>
                        <code class="elixir" data-trim contenteditable style="font-size: 18px;">
                            iex> case {1, 2, 3} do
                            ...>   {4, 5, 6} ->
                            ...>     "This clause won't match"
                            ...>   {1, x, 3} ->
                            ...>     "This clause will match and bind x to 2 in this clause"
                            ...>   _ ->
                            ...>     "This clause would match any value"
                            ...> end
                        </code>
                      </pre>
                    </section>
         </section>
        <section>
          <h2>Data Types</h2>
          <p>Basic</p>
          <ul>
            <li>Integer</li>
            <li>Float</li>
            <li>Atoms</li>
            <li>Regex</li>
            <li>Ranges</li>
            <li>PIDS and Ports</li>
            <li>Binaries</li>
            <li>Date and Times</li>
            <li>Struct</li>
          </ul>
          <p>Collection Types</p>
          <ul>
            <li>Tuples => {1, "a", true, :var}</li>
            <li>Lists => [1, "a", true, :var]</li>
            <li>Keyword List => [name: "john", age: 22, single: true]</li>
            <li>Maps => %{:name => "john", :age => 22, :single => true}</li>
          </ul>
        </section>

        <section>
          <h2>Inmutability</h2>
          <pre>
            <code class="elixir" data-trim contenteditable style="font-size: 18px;">
                   iex> x = [1,2,3,4]
                   iex> List.insert_at(x, 4, 5)
                   ...> [1, 2, 3, 4, 5]
                   iex> x = 1
                   ...> 1
                   iex> x = 2
                   ...> 2

            </code>
          </pre>
        </section>

        <section>
            <h2>Pipe operator |> </h2>
            <pre>
              <code class="elixir" data-trim contenteditable style="font-size: 18px;">
                    "hello world"
                    |> String.upcase
                    |> String.split("")
                    |> Enum.take(2)
                    |> IO.puts

              </code>
            </pre>
        </section>

        <section>
          <h2>Lazy evaluation - Streams</h2>

            <pre>
              <code class="elixir" data-trim contenteditable style="font-size: 18px;">
                  iex> Enum.map(1..10_000_000, &(&1+1)) |> Enum.take(5)
                  ...> [2, 3, 4, 5, 6] # 8 seconds later
                  iex> Stream.map(1..10_000_000, &(&1+1)) |> Enum.take(5)
                  ...> [2, 3, 4, 5, 6]
              </code>
            </pre>


        </section>

        <section>
          <h2>Recursion</h2>
          <p>Tail optimization + pattern matching</p>
          <pre>
            <code class="elixir" data-trim contenteditable style="font-size: 18px;">
                  # Non tail optimized
                  defmodule MyList2 do
                    def sum([]), do: 0

                    def sum([head | tail]) do
                        head + sum(tail)
                    end
                  end

                  # Tail optimized
                  defmodule MyMath do
                    def sum(list), do: _sum(list, 0)

                    defp _sum([], total), do: total
                    defp _sum([ head | tail ], total) do
                         _sum(tail, total + head)
                    end
                  end
            </code>
          </pre>
        </section>

        <section>
          <h2>Tooling</h2>
          <ul>
              <li>iex</li>
              <li>Hex</li>
              <li>Mix</li>
              <li>ExUnit</li>
              <li>docTest</li>
          </ul>
        </section>

        <section>
          <h1>Serious business OTP</h1>

          <h2>Concurrency + Fault tolerance + </h2>
        </section>


        <section>
          <h4>Everything run inside a process</h4>
          <img src="./images/actors.png" alt="actor" class="image"/>
        </section>

        <section>
          <h3>Creating proceses</h3>
          <p>The Basics</p>
          <pre>
            <code class="elixir" data-trim contenteditable style="font-size: 18px;">
                defmodule Test do
                    def hello do
                        receive do
                           {sender, msg} -> send sender, {:ok, msg}
                        end
                    end
                end

                defmodule Caller do
                    def call(msg) do
                        pid = spawn(Test, :hello, [])
                        send pid, {self(), msg}

                        receive do
                            {:ok, message} -> IO.puts message
                        end
                    end
                end

                Caller.call("Hello world")
            </code>
          </pre>
        </section>

        <section>
          <h3>OTP(Open Telecom Platform)</h3>
         <ul>
           <li>Genservers, Agents, Tasks, Flow, etc.</li>
           <li>Supervisors</li>
           <li>Hotcode swapping</li>
         </ul>
        </section>

      </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
      // More info about config & dependencies:
      // - https://github.com/hakimel/reveal.js#configuration
      // - https://github.com/hakimel/reveal.js#dependencies
      Reveal.initialize({
        dependencies: [
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/notes/notes.js', async: true },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
        ]
      });
    </script>
  </body>
</html>
